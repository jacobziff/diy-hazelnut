// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cma, use-js-string=true, version=5.8.1

//# unitInfo: Provides: Ui_effect__
(function
  (globalThis){
   "use strict";
   var runtime = globalThis.jsoo_runtime, Ui_effect = [0];
   runtime.caml_register_global(0, Ui_effect, "Ui_effect__");
   return;
  }
  (globalThis));

//# unitInfo: Provides: Ui_effect__Ui_effect_intf
//# unitInfo: Requires: Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Ui_effect_Ui_effect_intf = "Ui_effect__Ui_effect_intf",
    cst_ui_effect = "ui_effect";
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime;
   caml_call1(Ppx_module_timer_runtime[4], cst_Ui_effect_Ui_effect_intf);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_ui_effect);
   caml_call1(Expect_test_collector[5][1], "ui_effect/ui_effect_intf.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_ui_effect, cst);
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_ui_effect);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Ui_effect_Ui_effect_intf);
   var Ui_effect_Ui_effect_intf = [0];
   runtime.caml_register_global
    (11, Ui_effect_Ui_effect_intf, cst_Ui_effect_Ui_effect_intf);
   return;
  }
  (globalThis));

//# unitInfo: Provides: Ui_effect
//# unitInfo: Requires: Base__Monad, CamlinternalLazy, Core, Core__Bag, Core__Hashtbl, Core__Int, Core__List, Core__Sexp, Expect_test_collector, Ppx_bench_lib__Benchmark_accumulator, Ppx_inline_test_lib__Runtime, Ppx_module_timer_runtime, Sexplib0__Sexp_conv, Stdlib__Obj, Ui_effect__Ui_effect_intf
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_Ui_effect = "Ui_effect",
    cst_Unrecognized_variant$1 = "Unrecognized variant",
    cst_ui_effect = "ui_effect",
    caml_fresh_oo_id = runtime.caml_fresh_oo_id;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "",
    CamlinternalLazy = global_data.CamlinternalLazy,
    Core_List = global_data.Core__List,
    Core_Bag = global_data.Core__Bag,
    Core = global_data.Core,
    Core_Hashtbl = global_data.Core__Hashtbl,
    Stdlib_Obj = global_data.Stdlib__Obj,
    Sexplib0_Sexp_conv = global_data.Sexplib0__Sexp_conv,
    Ppx_module_timer_runtime = global_data.Ppx_module_timer_runtime,
    Ppx_bench_lib_Benchmark_accumu =
      global_data.Ppx_bench_lib__Benchmark_accumulator,
    Expect_test_collector = global_data.Expect_test_collector,
    Ppx_inline_test_lib_Runtime = global_data.Ppx_inline_test_lib__Runtime,
    Core_Int = global_data.Core__Int,
    Base_Monad = global_data.Base__Monad;
   caml_call1(Ppx_module_timer_runtime[4], cst_Ui_effect);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][1], cst_ui_effect);
   caml_call1(Expect_test_collector[5][1], "ui_effect/ui_effect.ml");
   caml_call2(Ppx_inline_test_lib_Runtime[2], cst_ui_effect, cst);
   var
    Ignore = [248, "Ui_effect.Ignore", caml_fresh_oo_id(0)],
    Many = [248, "Ui_effect.Many", caml_fresh_oo_id(0)],
    handlers =
      caml_call3
       (Core_Hashtbl[4],
        0,
        [0, 8],
        [0, Core_Int[91], Core_Int[80], Core_Int[104]]),
    cst_Ui_effect_Define_Handler_C = "Ui_effect.Define(Handler).C",
    cst_Unrecognized_variant = cst_Unrecognized_variant$1,
    cst_Ui_effect_Define1_Handler_ = "Ui_effect.Define1(Handler).C",
    cst_on_response_called_multipl = "on_response called multiple times!",
    cst_Unrecognized_variant$0 = cst_Unrecognized_variant$1;
   function Define(Handler){
    var
     C = [248, cst_Ui_effect_Define_Handler_C, caml_fresh_oo_id(0)],
     key = caml_call1(Stdlib_Obj[22][3], C);
    caml_call3
     (Core_Hashtbl[36],
      handlers,
      key,
      function(inp){
       var _r_ = inp[1], match = _r_[1];
       if(match[1] === C){
        var callback = _r_[2], value = match[2];
        caml_call1(Handler[2], value);
        return caml_call1(callback, 0);
       }
       var _s_ = caml_call1(Sexplib0_Sexp_conv[7], cst_Unrecognized_variant);
       return caml_call1(Core[253], _s_);
      });
    function inject(v){return [0, C, v];}
    return [0, inject];
   }
   function Define1(Handler){
    var
     C = [248, cst_Ui_effect_Define1_Handler_, caml_fresh_oo_id(0)],
     key = caml_call1(Stdlib_Obj[22][3], C);
    caml_call3
     (Core_Hashtbl[36],
      handlers,
      key,
      function(inp){
       var _p_ = inp[1], match = _p_[1];
       if(match[1] === C){
        var
         callback = _p_[2],
         value = match[2],
         called = [0, 0],
         callback$0 =
           function(a){
            if(called[1])
             caml_call1(Core[6], cst_on_response_called_multipl);
            else
             called[1] = 1;
            return caml_call1(callback, a);
           };
        return caml_call2(Handler[2], value, callback$0);
       }
       var
        _q_ = caml_call1(Sexplib0_Sexp_conv[7], cst_Unrecognized_variant$0);
       return caml_call1(Core[253], _q_);
      });
    function inject(v){return [0, C, v];}
    return [0, inject];
   }
   function handle(s){return caml_call2(Core[248], 0, s);}
   var
    Print_s = Define([0, [0], handle]),
    print_s = Print_s[1],
    Return = [248, "Ui_effect.Return", caml_fresh_oo_id(0)],
    Lazy = [248, "Ui_effect.Lazy", caml_fresh_oo_id(0)],
    Bind = [248, "Ui_effect.Bind", caml_fresh_oo_id(0)],
    Map = [248, "Ui_effect.Map", caml_fresh_oo_id(0)],
    Never = [248, "Ui_effect.Never", caml_fresh_oo_id(0)],
    Fun = [248, "Ui_effect.Fun", caml_fresh_oo_id(0)];
   function return$0(a){return [0, Return, a];}
   function bind(t, f){return [0, Bind, t, f];}
   function of_fun(f){return [0, Fun, f];}
   function lazy(a){return [0, Lazy, a];}
   var
    map = [0, -198771759, function(t, f){return [0, Map, t, f];}],
    include = caml_call1(Base_Monad[1], [0, bind, return$0, map]),
    symbol_bind = include[1],
    symbol_map = include[2],
    Monad_infix = include[3],
    bind$0 = include[4],
    return$1 = include[5],
    map$0 = include[6],
    join = include[7],
    ignore_m = include[8],
    all = include[9],
    all_unit = include[10],
    Let_syntax = include[11];
   function eval$0(t, callback){
    var t$0 = t, callback$0 = callback;
    for(;;){
     if(t$0[1] === Fun){var f = t$0[2]; return caml_call1(f, callback$0);}
     if(t$0 === Ignore) return caml_call1(callback$0, 0);
     if(t$0[1] === Return){var a = t$0[2]; return caml_call1(callback$0, a);}
     if(t$0[1] === Lazy){
      var
       _k_ = t$0[2],
       _l_ = runtime.caml_obj_tag(_k_),
       t$1 =
         250 === _l_
          ? _k_[1]
          : 246 === _l_ ? caml_call1(CamlinternalLazy[2], _k_) : _k_;
      t$0 = t$1;
     }
     else{
      if(t$0[1] === Many){
       var l = t$0[2], _m_ = function(_o_){return 0;};
       caml_call2(Core_List[9], l, function(_n_){return eval$0(_n_, _m_);});
       return caml_call1(callback$0, 0);
      }
      if(t$0[1] === Bind){
       var f$0 = t$0[3], t$2 = t$0[2];
       let callback = callback$0, f = f$0;
       var
        callback$1 = function(a){return eval$0(caml_call1(f, a), callback);};
       t$0 = t$2;
       callback$0 = callback$1;
      }
      else{
       if(t$0[1] !== Map){
        if(t$0 === Never) return 0;
        var
         _i_ = caml_call1(Stdlib_Obj[22][1], t$0),
         _j_ = caml_call1(Stdlib_Obj[22][3], _i_);
        return caml_call3
                (Core_Hashtbl[54], handlers, _j_, [0, [0, t$0, callback$0]]);
       }
       var f$1 = t$0[3], t$3 = t$0[2];
       let callback = callback$0, f = f$1;
       var
        callback$2 =
          function(a){return caml_call1(callback, caml_call1(f, a));};
       t$0 = t$3;
       callback$0 = callback$2;
      }
     }
    }
   }
   function _a_(_h_){return 0;}
   function handle$0(_g_){return eval$0(_g_, _a_);}
   var Expert = [0, handle$0, handlers, of_fun], Action = [0];
   function handle$1(param, on_response){
    var f = param[2], a = param[1];
    return caml_call1(on_response, caml_call1(f, a));
   }
   var Sync_fun_arg = [0, Action, handle$1], Sync_fun = Define1(Sync_fun_arg);
   function of_sync_fun(f, a){return caml_call1(Sync_fun[1], [0, a, f]);}
   function make(request, on_response){return [0, request, on_response];}
   function request(param){var request = param[1]; return request;}
   function respond_to(param, response){
    var on_response = param[2];
    return caml_call1(on_response, response);
   }
   var Callback = [0, make, request, respond_to];
   function make$0(request, evaluator){
    return caml_call1
            (Expert[3],
             function(callback){
              var
               callback$0 =
                 caml_call2
                  (Callback[1],
                   request,
                   function(response){
                    caml_call1(callback, response);
                    return Ignore;
                   }),
               _f_ = caml_call1(evaluator, callback$0);
              return caml_call1(Expert[1], _f_);
             });
   }
   var Private = [0, Callback, make$0];
   function create(param){return [0, [0, caml_call1(Core_Bag[22], 0)]];}
   function upon(t, handler){
    var match = t[1];
    if(0 === match[0]){
     var handlers = match[1];
     caml_call2(Core_Bag[23], handlers, handler);
     return 0;
    }
    var x = match[1];
    return caml_call1(handler, x);
   }
   function fill_if_empty(t, x){
    var match = t[1];
    if(0 !== match[0]) return 0;
    var handlers = match[1];
    caml_call2
     (Core_Bag[7],
      handlers,
      function(handler){return caml_call1(handler, x);});
    t[1] = [1, x];
    return 0;
   }
   function peek(t){
    var match = t[1];
    if(0 === match[0]) return 0;
    var x = match[1];
    return [0, x];
   }
   var Svar = [0, create, upon, fill_if_empty, peek], Action$0 = [0];
   function handle$2(param, on_response){
    var f = param[2], a = param[1], _e_ = caml_call1(f, a);
    return caml_call2(Svar[2], _e_, on_response);
   }
   var
    Svar_fun_arg = [0, Action$0, handle$2],
    Svar_fun = Define1(Svar_fun_arg);
   function of_svar_fun(f, a){return caml_call1(Svar_fun[1], [0, a, f]);}
   function create$0(param){return caml_call1(Core_Bag[22], 0);}
   function queries_pending_response(t){
    var _d_ = caml_call1(Core_Bag[17], t);
    return caml_call2
            (Core_List[72],
             _d_,
             function(param){var query = param[1]; return query;});
   }
   function maybe_respond(t, f){
    return caml_call2
            (Core_Bag[30],
             t,
             function(param){
              var
               response = param[2],
               query = param[1],
               match = caml_call1(f, query);
              if(! match) return 1;
              var resp = match[1];
              caml_call2(Svar[3], response, resp);
              return 0;
             });
   }
   function of_query_response_tracker(qrt){
    function _b_(query){
     var response = caml_call1(Svar[1], 0);
     caml_call2(Core_Bag[23], qrt, [0, query, response]);
     return response;
    }
    return function(_c_){return of_svar_fun(_b_, _c_);};
   }
   caml_call1(Ppx_inline_test_lib_Runtime[3], cst_ui_effect);
   caml_call1(Expect_test_collector[5][2], 0);
   caml_call1(Ppx_bench_lib_Benchmark_accumu[1][2], 0);
   caml_call1(Ppx_module_timer_runtime[5], cst_Ui_effect);
   var
    Ui_effect =
      [0,
       Ignore,
       Many,
       symbol_bind,
       symbol_map,
       Monad_infix,
       bind$0,
       return$1,
       map$0,
       join,
       ignore_m,
       all,
       all_unit,
       Let_syntax,
       Never,
       lazy,
       print_s,
       of_sync_fun,
       Define,
       Define1,
       Expert,
       Private,
       [0,
        Svar,
        of_svar_fun,
        [0, create$0, maybe_respond, queries_pending_response],
        of_query_response_tracker]];
   runtime.caml_register_global(34, Ui_effect, cst_Ui_effect);
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiJ1aV9lZmZlY3QuY21hLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbImhhbmRsZXJzIiwia2V5IiwiaW5wIiwiY2FsbGJhY2siLCJ2YWx1ZSIsImluamVjdCIsInYiLCJjYWxsZWQiLCJjYWxsYmFjayQwIiwiYSIsImhhbmRsZSIsInMiLCJwcmludF9zIiwiTmV2ZXIiLCJyZXR1cm4kMCIsImJpbmQiLCJ0IiwiZiIsIm9mX2Z1biIsImxhenkiLCJtYXAiLCJldmFsJDAiLCJ0JDAiLCJ0JDEiLCJsIiwiZiQwIiwidCQyIiwiY2FsbGJhY2skMSIsImYkMSIsInQkMyIsImNhbGxiYWNrJDIiLCJoYW5kbGUkMCIsImhhbmRsZSQxIiwib25fcmVzcG9uc2UiLCJvZl9zeW5jX2Z1biIsIm1ha2UiLCJyZXF1ZXN0IiwicmVzcG9uZF90byIsInJlc3BvbnNlIiwibWFrZSQwIiwiZXZhbHVhdG9yIiwiY3JlYXRlIiwidXBvbiIsImhhbmRsZXIiLCJ4IiwiZmlsbF9pZl9lbXB0eSIsInBlZWsiLCJoYW5kbGUkMiIsIm9mX3N2YXJfZnVuIiwiY3JlYXRlJDAiLCJxdWVyaWVzX3BlbmRpbmdfcmVzcG9uc2UiLCJxdWVyeSIsIm1heWJlX3Jlc3BvbmQiLCJyZXNwIiwib2ZfcXVlcnlfcmVzcG9uc2VfdHJhY2tlciIsInFydCJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWNvYnppZmYvLm9wYW0vZGl5LWhhemVsbnV0L2xpYi92aXJ0dWFsX2RvbS91aV9lZmZlY3QvdWlfZWZmZWN0Lm1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0U7Ozs7Ozs7Ozs7OztHOzs7OztHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0U7Ozs7Ozs7Ozs7Ozs7O0c7Ozs7O0c7Ozs7O0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBSWE7SUFBQTtJQUFnQjtJQUt6QkE7TUFBK0M7Ozs7Ozs7Ozs7O0lBSXJDO0tBQUE7S0FFUkMsTUFBTTtJQUdSOztNQVRBRDtNQU1FQztlQUd1Q0M7T0FDdkMsVUFE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Ozs7Ozs7Ozs7Ozs7Ozs7O09Bdkp0Rm5DO09BRUFNO09BeEJBUDtPQXNFRXNCOzs7Ozs7O1FBbUVFYztZQVVFQyxVQWdCQUcsZUFSQUY7UUFrQkZJOzs7RSIsInNvdXJjZXNDb250ZW50IjpbIm9wZW4hIENvcmVcbmluY2x1ZGUgVWlfZWZmZWN0X2ludGZcblxudHlwZSAnYSB0ID0gLi5cbnR5cGUgJ2EgdCArPSBJZ25vcmUgOiB1bml0IHQgfCBNYW55IDogdW5pdCB0IGxpc3QgLT4gdW5pdCB0XG5cbigqIFdlIHVzZSB0aGlzIHRhYmxlIGZvciBkaXNwYXRjaGluZyB0byB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlciBpbiBhbiBlZmZpY2llbnQgd2F5LiAgKilcbnR5cGUgaGlkZGVuID0gVCA6ICgnYSB0ICogKCdhIC0+IHVuaXQpKSAtPiBoaWRkZW5cblxubGV0IGhhbmRsZXJzIDogKGhpZGRlbiAtPiB1bml0KSBIYXNodGJsLk0oSW50KS50ID0gSGFzaHRibC5jcmVhdGUgKG1vZHVsZSBJbnQpIH5zaXplOjhcblxubW9kdWxlIERlZmluZSAoSGFuZGxlciA6IEhhbmRsZXIpIDpcbiAgUyB3aXRoIHR5cGUgYWN0aW9uIDo9IEhhbmRsZXIuQWN0aW9uLnQgYW5kIHR5cGUgJ2EgdCA6PSAnYSB0ID0gc3RydWN0XG4gIHR5cGUgXyB0ICs9IEMgOiBIYW5kbGVyLkFjdGlvbi50IC0+IHVuaXQgdFxuXG4gIGxldCBrZXkgPSBPYmouRXh0ZW5zaW9uX2NvbnN0cnVjdG9yLmlkIFslZXh0ZW5zaW9uX2NvbnN0cnVjdG9yIENdXG5cbiAgbGV0ICgpID1cbiAgICBIYXNodGJsLmFkZF9leG4gaGFuZGxlcnMgfmtleSB+ZGF0YTooZnVuIGlucCAtPlxuICAgICAgbWF0Y2ggaW5wIHdpdGhcbiAgICAgIHwgVCAoQyB2YWx1ZSwgY2FsbGJhY2spIC0+XG4gICAgICAgIEhhbmRsZXIuaGFuZGxlIHZhbHVlO1xuICAgICAgICBjYWxsYmFjayAoKVxuICAgICAgfCBfIC0+IHJhaXNlX3MgWyVtZXNzYWdlIFwiVW5yZWNvZ25pemVkIHZhcmlhbnRcIl0pXG4gIDs7XG5cbiAgbGV0IGluamVjdCB2ID0gQyB2XG5lbmRcblxubW9kdWxlIERlZmluZTEgKEhhbmRsZXIgOiBIYW5kbGVyMSkgOlxuICBTMSB3aXRoIHR5cGUgJ2EgYWN0aW9uIDo9ICdhIEhhbmRsZXIuQWN0aW9uLnQgYW5kIHR5cGUgJ2EgdCA6PSAnYSB0ID0gc3RydWN0XG4gIHR5cGUgXyB0ICs9IEMgOiAnYSBIYW5kbGVyLkFjdGlvbi50IC0+ICdhIHRcblxuICBsZXQga2V5ID0gT2JqLkV4dGVuc2lvbl9jb25zdHJ1Y3Rvci5pZCBbJWV4dGVuc2lvbl9jb25zdHJ1Y3RvciBDXVxuXG4gIGxldCAoKSA9XG4gICAgSGFzaHRibC5hZGRfZXhuIGhhbmRsZXJzIH5rZXkgfmRhdGE6KGZ1biBpbnAgLT5cbiAgICAgIG1hdGNoIGlucCB3aXRoXG4gICAgICB8IFQgKEMgdmFsdWUsIGNhbGxiYWNrKSAtPlxuICAgICAgICBsZXQgY2FsbGVkID0gcmVmIGZhbHNlIGluXG4gICAgICAgIGxldCBjYWxsYmFjayBhID1cbiAgICAgICAgICBpZiAhY2FsbGVkXG4gICAgICAgICAgdGhlbiBmYWlsd2l0aCBcIm9uX3Jlc3BvbnNlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyFcIlxuICAgICAgICAgIGVsc2UgY2FsbGVkIDo9IHRydWU7XG4gICAgICAgICAgY2FsbGJhY2sgYVxuICAgICAgICBpblxuICAgICAgICBIYW5kbGVyLmhhbmRsZSB2YWx1ZSB+b25fcmVzcG9uc2U6Y2FsbGJhY2tcbiAgICAgIHwgXyAtPiByYWlzZV9zIFslbWVzc2FnZSBcIlVucmVjb2duaXplZCB2YXJpYW50XCJdKVxuICA7O1xuXG4gIGxldCBpbmplY3QgdiA9IEMgdlxuZW5kXG5cbmxldCBnZXRfa2V5IHQgPSBPYmouRXh0ZW5zaW9uX2NvbnN0cnVjdG9yLmlkIChPYmouRXh0ZW5zaW9uX2NvbnN0cnVjdG9yLm9mX3ZhbCB0KVxuXG5sZXQgaGFuZGxlX3JlZ2lzdGVyZWRfZXZlbnQgKFQgKHQsIGNiKSkgPVxuICBIYXNodGJsLmZpbmRfZXhuIGhhbmRsZXJzIChnZXRfa2V5IHQpIChUICh0LCBjYikpXG47O1xuXG5tb2R1bGUgUHJpbnRfcyA9IERlZmluZSAoc3RydWN0XG4gICAgbW9kdWxlIEFjdGlvbiA9IFNleHBcblxuICAgIGxldCBoYW5kbGUgcyA9IHByaW50X3Mgc1xuICBlbmQpXG5cbmxldCBwcmludF9zID0gUHJpbnRfcy5pbmplY3RcblxuKCogRWZmZWN0ZnVsIHRoaW5ncyAqKVxudHlwZSAnYSB0ICs9XG4gIHwgUmV0dXJuIDogJ2EgLT4gJ2EgdFxuICB8IExhenkgOiAnYSB0IExhenkudCAtPiAnYSB0XG4gIHwgQmluZCA6XG4gICAgICB7IHQgOiAnYSB0XG4gICAgICA7IGYgOiAnYSAtPiAnYiB0XG4gICAgICB9XG4gICAgICAtPiAnYiB0XG4gIHwgTWFwIDpcbiAgICAgIHsgdCA6ICdhIHRcbiAgICAgIDsgZiA6ICdhIC0+ICdiXG4gICAgICB9XG4gICAgICAtPiAnYiB0XG4gIHwgTmV2ZXIgOiAnYiB0XG4gIHwgRnVuIDogKGNhbGxiYWNrOignYSAtPiB1bml0KSAtPiB1bml0KSAtPiAnYSB0XG5cbmxldCByZXR1cm4gYSA9IFJldHVybiBhXG5sZXQgYmluZCAodHlwZSBhKSAodCA6IGEgdCkgfmYgPSBCaW5kIHsgdDsgZiB9XG5sZXQgbWFwICh0eXBlIGEgYikgKHQgOiBhIHQpIH5mIDogYiB0ID0gTWFwIHsgdDsgZiB9XG5sZXQgbmV2ZXIgPSBOZXZlclxubGV0IG9mX2Z1biB+ZiA9IEZ1biBmXG5sZXQgbGF6eV8gYSA9IExhenkgYVxuXG5pbmNsdWRlIENvcmUuTW9uYWQuTWFrZSAoc3RydWN0XG4gICAgdHlwZSBub25yZWMgJ2EgdCA9ICdhIHRcblxuICAgIGxldCByZXR1cm4gPSByZXR1cm5cbiAgICBsZXQgYmluZCA9IGJpbmRcbiAgICBsZXQgbWFwID0gYEN1c3RvbSBtYXBcbiAgZW5kKVxuXG5sZXQgcmVjIGV2YWwgOiB0eXBlIGEuIGEgdCAtPiBjYWxsYmFjazooYSAtPiB1bml0KSAtPiB1bml0ID1cbiAgZnVuIHQgfmNhbGxiYWNrIC0+XG4gIG1hdGNoIHQgd2l0aFxuICB8IEZ1biBmIC0+IGYgfmNhbGxiYWNrXG4gIHwgSWdub3JlIC0+IGNhbGxiYWNrICgpXG4gIHwgUmV0dXJuIGEgLT4gY2FsbGJhY2sgYVxuICB8IExhenkgKGxhenkgdCkgLT4gZXZhbCB0IH5jYWxsYmFja1xuICB8IE1hbnkgbCAtPlxuICAgIExpc3QuaXRlciBsIH5mOihldmFsIH5jYWxsYmFjazppZ25vcmUpO1xuICAgIGNhbGxiYWNrICgpXG4gIHwgQmluZCB7IHQ7IGYgfSAtPiBldmFsIHQgfmNhbGxiYWNrOihmdW4gYSAtPiBldmFsIChmIGEpIH5jYWxsYmFjaylcbiAgfCBNYXAgeyB0OyBmIH0gLT4gZXZhbCB0IH5jYWxsYmFjazooZnVuIGEgLT4gY2FsbGJhY2sgKGYgYSkpXG4gIHwgTmV2ZXIgLT4gKClcbiAgfCB0IC0+IGhhbmRsZV9yZWdpc3RlcmVkX2V2ZW50IChUICh0LCBjYWxsYmFjaykpXG47O1xuXG5tb2R1bGUgRXhwZXJ0ID0gc3RydWN0XG4gIGxldCBoYW5kbGUgPSBldmFsIH5jYWxsYmFjazppZ25vcmVcblxuICB0eXBlIGhpZGUgPSBoaWRkZW4gPSBUIDogKCdhIHQgKiAoJ2EgLT4gdW5pdCkpIC0+IGhpZGVcblxuICBsZXQgaGFuZGxlcnMgPSBoYW5kbGVyc1xuICBsZXQgb2ZfZnVuID0gb2ZfZnVuXG5lbmRcblxubW9kdWxlIEFkdmFuY2VkID0gc3RydWN0XG4gIG1vZHVsZSBTeW5jX2Z1bl9hcmcgPSBzdHJ1Y3RcbiAgICBtb2R1bGUgQWN0aW9uID0gc3RydWN0XG4gICAgICB0eXBlICdyIHQgPSBUIDogJ2EgKiAoJ2EgLT4gJ3IpIC0+ICdyIHRcbiAgICBlbmRcblxuICAgIGxldCBoYW5kbGUgKEFjdGlvbi5UIChhLCBmKSkgfm9uX3Jlc3BvbnNlID0gb25fcmVzcG9uc2UgKGYgYSlcbiAgZW5kXG5cbiAgbW9kdWxlIFN5bmNfZnVuID0gRGVmaW5lMSAoU3luY19mdW5fYXJnKVxuXG4gIGxldCBvZl9zeW5jX2Z1biBmIGEgPSBTeW5jX2Z1bi5pbmplY3QgKFQgKGEsIGYpKVxuXG4gIG1vZHVsZSBQcml2YXRlID0gc3RydWN0XG4gICAgbW9kdWxlIENhbGxiYWNrID0gc3RydWN0XG4gICAgICB0eXBlIG5vbnJlYyAoJ2EsICdiKSB0ID1cbiAgICAgICAgeyByZXF1ZXN0IDogJ2FcbiAgICAgICAgOyBvbl9yZXNwb25zZSA6ICdiIC0+IHVuaXQgdFxuICAgICAgICB9XG5cbiAgICAgIGxldCBtYWtlIH5yZXF1ZXN0IH5vbl9yZXNwb25zZSA9IHsgcmVxdWVzdDsgb25fcmVzcG9uc2UgfVxuICAgICAgbGV0IHJlcXVlc3QgeyByZXF1ZXN0OyBfIH0gPSByZXF1ZXN0XG4gICAgICBsZXQgcmVzcG9uZF90byB7IG9uX3Jlc3BvbnNlOyBfIH0gcmVzcG9uc2UgPSBvbl9yZXNwb25zZSByZXNwb25zZVxuICAgIGVuZFxuXG4gICAgbGV0IG1ha2UgOiByZXF1ZXN0OidhIC0+IGV2YWx1YXRvcjooKCdhLCAnYikgQ2FsbGJhY2sudCAtPiB1bml0IHQpIC0+ICdiIHQgPVxuICAgICAgZnVuIH5yZXF1ZXN0IH5ldmFsdWF0b3IgLT5cbiAgICAgIEV4cGVydC5vZl9mdW4gfmY6KGZ1biB+Y2FsbGJhY2sgLT5cbiAgICAgICAgbGV0IGNhbGxiYWNrID1cbiAgICAgICAgICBDYWxsYmFjay5tYWtlIH5yZXF1ZXN0IH5vbl9yZXNwb25zZTooZnVuIHJlc3BvbnNlIC0+XG4gICAgICAgICAgICBjYWxsYmFjayByZXNwb25zZTtcbiAgICAgICAgICAgIElnbm9yZSlcbiAgICAgICAgaW5cbiAgICAgICAgRXhwZXJ0LmhhbmRsZSAoZXZhbHVhdG9yIGNhbGxiYWNrKSlcbiAgICA7O1xuICBlbmRcblxuICBtb2R1bGUgRm9yX3Rlc3RpbmcgPSBzdHJ1Y3RcbiAgICBtb2R1bGUgU3ZhciA9IHN0cnVjdFxuICAgICAgdHlwZSAnYSBzdGF0ZSA9XG4gICAgICAgIHwgRW1wdHkgb2YgeyBoYW5kbGVycyA6ICgnYSAtPiB1bml0KSBCYWcudCB9XG4gICAgICAgIHwgRnVsbCBvZiAnYVxuXG4gICAgICB0eXBlICdhIHQgPSAnYSBzdGF0ZSByZWZcblxuICAgICAgbGV0IGNyZWF0ZSAoKSA9IHJlZiAoRW1wdHkgeyBoYW5kbGVycyA9IEJhZy5jcmVhdGUgKCkgfSlcblxuICAgICAgbGV0IHVwb24gdCBoYW5kbGVyID1cbiAgICAgICAgbWF0Y2ggIXQgd2l0aFxuICAgICAgICB8IEVtcHR5IHsgaGFuZGxlcnMgfSAtPiBpZ25vcmUgKEJhZy5hZGQgaGFuZGxlcnMgaGFuZGxlciA6IF8gQmFnLkVsdC50KVxuICAgICAgICB8IEZ1bGwgeCAtPiBoYW5kbGVyIHhcbiAgICAgIDs7XG5cbiAgICAgIGxldCBmaWxsX2lmX2VtcHR5IHQgeCA9XG4gICAgICAgIG1hdGNoICF0IHdpdGhcbiAgICAgICAgfCBGdWxsIF8gLT4gKClcbiAgICAgICAgfCBFbXB0eSB7IGhhbmRsZXJzIH0gLT5cbiAgICAgICAgICBCYWcuaXRlciBoYW5kbGVycyB+ZjooZnVuIGhhbmRsZXIgLT4gaGFuZGxlciB4KTtcbiAgICAgICAgICB0IDo9IEZ1bGwgeFxuICAgICAgOztcblxuICAgICAgbGV0IHBlZWsgdCA9XG4gICAgICAgIG1hdGNoICF0IHdpdGhcbiAgICAgICAgfCBFbXB0eSBfIC0+IE5vbmVcbiAgICAgICAgfCBGdWxsIHggLT4gU29tZSB4XG4gICAgICA7O1xuICAgIGVuZFxuXG4gICAgbW9kdWxlIFN2YXJfZnVuX2FyZyA9IHN0cnVjdFxuICAgICAgbW9kdWxlIEFjdGlvbiA9IHN0cnVjdFxuICAgICAgICB0eXBlICdyIHQgPSBUIDogJ2EgKiAoJ2EgLT4gJ3IgU3Zhci50KSAtPiAnciB0XG4gICAgICBlbmRcblxuICAgICAgbGV0IGhhbmRsZSAoQWN0aW9uLlQgKGEsIGYpKSB+b25fcmVzcG9uc2UgPSBTdmFyLnVwb24gKGYgYSkgb25fcmVzcG9uc2VcbiAgICBlbmRcblxuICAgIG1vZHVsZSBTdmFyX2Z1biA9IERlZmluZTEgKFN2YXJfZnVuX2FyZylcblxuICAgIGxldCBvZl9zdmFyX2Z1biBmIGEgPSBTdmFyX2Z1bi5pbmplY3QgKFQgKGEsIGYpKVxuXG4gICAgbW9kdWxlIFF1ZXJ5X3Jlc3BvbnNlX3RyYWNrZXIgPSBzdHJ1Y3RcbiAgICAgIHR5cGUgKCdxLCAncikgcnBjID1cbiAgICAgICAgeyBxdWVyeSA6ICdxXG4gICAgICAgIDsgcmVzcG9uc2UgOiAnciBTdmFyLnRcbiAgICAgICAgfVxuXG4gICAgICB0eXBlICgncSwgJ3IpIHQgPSAoJ3EsICdyKSBycGMgQmFnLnRcblxuICAgICAgbGV0IGNyZWF0ZSAoKSA9IEJhZy5jcmVhdGUgKClcblxuICAgICAgbGV0IGFkZF9xdWVyeSB0IHF1ZXJ5ID1cbiAgICAgICAgbGV0IHJlc3BvbnNlID0gU3Zhci5jcmVhdGUgKCkgaW5cbiAgICAgICAgaWdub3JlIChCYWcuYWRkIHQgeyBxdWVyeTsgcmVzcG9uc2UgfSA6IF8gQmFnLkVsdC50KTtcbiAgICAgICAgcmVzcG9uc2VcbiAgICAgIDs7XG5cbiAgICAgIGxldCBxdWVyaWVzX3BlbmRpbmdfcmVzcG9uc2UgdCA9XG4gICAgICAgIEJhZy50b19saXN0IHQgfD4gTGlzdC5tYXAgfmY6KGZ1biB7IHF1ZXJ5OyByZXNwb25zZSA9IF8gfSAtPiBxdWVyeSlcbiAgICAgIDs7XG5cbiAgICAgIHR5cGUgJ3IgbWF5YmVfcmVzcG9uZCA9XG4gICAgICAgIHwgTm9fcmVzcG9uc2VfeWV0XG4gICAgICAgIHwgUmVzcG9uZCBvZiAnclxuXG4gICAgICBsZXQgbWF5YmVfcmVzcG9uZCB0IH5mID1cbiAgICAgICAgQmFnLmZpbHRlcl9pbnBsYWNlIHQgfmY6KGZ1biB7IHF1ZXJ5OyByZXNwb25zZSB9IC0+XG4gICAgICAgICAgbWF0Y2ggZiBxdWVyeSB3aXRoXG4gICAgICAgICAgfCBOb19yZXNwb25zZV95ZXQgLT4gdHJ1ZVxuICAgICAgICAgIHwgUmVzcG9uZCByZXNwIC0+XG4gICAgICAgICAgICBTdmFyLmZpbGxfaWZfZW1wdHkgcmVzcG9uc2UgcmVzcDtcbiAgICAgICAgICAgIGZhbHNlKVxuICAgICAgOztcbiAgICBlbmRcblxuICAgIGxldCBvZl9xdWVyeV9yZXNwb25zZV90cmFja2VyIHFydCA9IG9mX3N2YXJfZnVuIChRdWVyeV9yZXNwb25zZV90cmFja2VyLmFkZF9xdWVyeSBxcnQpXG4gIGVuZFxuZW5kXG5cbmluY2x1ZGUgQWR2YW5jZWRcbiJdfQ==
